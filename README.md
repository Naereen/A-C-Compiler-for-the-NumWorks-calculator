# Experimental port of the *Tiny C Compiler* for the NumWorks calculator

[![Build](https://github.com/Naereen/A-C-Compiler-for-the-NumWorks-calculator/actions/workflows/build.yml/badge.svg)](https://github.com/Naereen/A-C-Compiler-for-the-NumWorks-calculator/actions/workflows/build.yml)

**Ideal goal:** This apps lets you compile run a tiny [C program](https://en.wikipedia.org/wiki/C_(programming_language)) on your [NumWorks calculator](https://www.numworks.com)!
[![C programming language logo](./src/icon.png)](https://en.wikipedia.org/wiki/C_(programming_language))

## Install the app

<!-- [![Screenshot documentation showing the icon in my list of applications](screenshot-documentations/screenshot-documentation-icon-of-application.png)](screenshot-documentations/screenshot-documentation-icon-of-application.png) -->

Installing is rather easy:

1. (not yet, see 2) Download the latest `tiny-c-compiler.nwa ` file from the [Releases](https://github.com/Naereen/A-C-Compiler-for-the-NumWorks-calculator/releases) page ;
2. This Release page is not-yet ready, on this project, use [this folder instead](https://perso.crans.org/besson/publis/Numworks-apps/), and [this direct link](https://perso.crans.org/besson/publis/Numworks-apps/tiny-c-compiler.nwa ) ;
3. Head to [my.numworks.com/apps](https://my.numworks.com/apps) to send the `nwa` file on your calculator (on Google Chrome browser). On [this page](https://my.numworks.com/python/lilian-besson-1/tcc) you will be able to also send a default example of a C file (a tiny test script), and you can edit it yourself later on, on your calculator.

## How to use the app

Just launch the app, and it will read and execute your script `tcc.py`!

This script should be located in the `tcc.py` file, that you can create, edit and save **from within your NumWorks!**.

If you want a demo, use [this `tcc.py` script](https://my.numworks.com/python/lilian-besson-1/tcc), that you can install on your NumWorks calculator, directly from their website (from my user space).

## Dependencies

This programs uses [the code of `libtcc` generated by the TCC project](https://en.wikipedia.org/wiki/Tiny_C_Compiler), a tiny C compiler.

## Build the app

To build this sample app, you will need to install the [embedded ARM toolchain](https://developer.arm.com/Tools%20and%20Software/GNU%20Toolchain) and [nwlink](https://www.npmjs.com/package/nwlink).

```shell
brew install numworks/tap/arm-none-eabi-gcc node # Or equivalent on your OS
npm install -g nwlink
make clean && make build
```

Be sure to download the sources for TinyCC and compile them with the correct options.
I've modified a tiny bit the sources of TinyCC, so until I find a better solution, [use my fork](https://github.com/Naereen/tinycc):

```shell
mkdir --parents src/
git clone git@github.com:Naereen/tinycc.git src/tinycc.git

cd src/tinycc.git/
./configure --cpu=armv7 --enable-cross --disable-static --targetos=none --config-predefs=no --config-backtrace=no
# make cross-arm-eabihf # no need, I think
make arm-eabihf-libtcc.a
```

You should obtain a static library named `arm-eabi-libtcc1.a` (which wights about 513K on my machine):

```shell
$ ls -larth src/tinycc.git/arm-eabihf-libtcc.a
-rw-rw-r-- 1 lilian lilian 513K mai   24 17:36 arm-eabihf-libtcc.a

$ du -b     src/tinycc.git/arm-eabihf-libtcc.a
524774  arm-eabihf-libtcc.a

$ file      src/tinycc.git/arm-eabihf-libtcc.a
arm-eabihf-libtcc.a: current ar archive
```

----

## :scroll: License ? [![GitHub license](https://img.shields.io/github/license/Naereen/A-C-Compiler-for-the-NumWorks-calculator.svg)](https://github.com/Naereen/A-C-Compiler-for-the-NumWorks-calculator/blob/master/LICENSE)

[MIT Licensed](https://lbesson.mit-license.org/) (file [LICENSE](LICENSE)).
Â© [Lilian Besson](https://GitHub.com/Naereen), 2025.

[![Maintenance](https://img.shields.io/badge/Maintained%3F-yes-green.svg)](https://GitHub.com/Naereen/A-C-Compiler-for-the-NumWorks-calculator/graphs/commit-activity)
[![Ask Me Anything !](https://img.shields.io/badge/Ask%20me-anything-1abc9c.svg)](https://GitHub.com/Naereen/ama)

[![ForTheBadge built-with-swag](http://ForTheBadge.com/images/badges/built-with-swag.svg)](https://GitHub.com/Naereen/)
[![ForTheBadge uses-badges](http://ForTheBadge.com/images/badges/uses-badges.svg)](http://ForTheBadge.com)
[![ForTheBadge uses-git](http://ForTheBadge.com/images/badges/uses-git.svg)](https://GitHub.com/)
